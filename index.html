<!DOCTYPE html>
<html lang="en" data-theme="auto">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetName Genie</title>
    <meta name="description" content="Generate unique and meaningful names for your pets with PetName Genie.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/accessibility.css">

    <!-- Favicon (using logo svg) -->
    <link rel="icon" type="image/png" href="assets/images/logo.png">
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="site-header">
        <div class="container header-content" style="justify-content: flex-end;">
            <div class="header-controls">
                <button id="theme-toggle" class="icon-btn" aria-label="Toggle Dark Mode">
                    <span class="icon">üåì</span>
                </button>
                <button id="accessibility-toggle" class="icon-btn" aria-label="Accessibility Options">
                    <span class="icon">Aa</span>
                </button>
                <button id="reset-app-btn" class="icon-btn" aria-label="Reset App" title="Start Over">
                    <span class="icon">üîÑ</span>
                </button>
            </div>
        </div>
    </header>

    <div class="branding-section container">
        <div class="logo-3d-container" style="position: relative; display: inline-block;">
            <!-- Fallback Image -->
            <img src="assets/images/logo.png" alt="PetName Genie Logo" class="brand-logo logo-3d"
                style="position: absolute; top:0; left:0; right:0; margin:auto;">
            <!-- Real 3D Canvas -->
            <canvas id="hero-canvas" width="160" height="160"
                style="width: 160px; height: 160px; cursor: pointer;"></canvas>
        </div>
        <h1 class="brand-title">PetName Genie</h1>
    </div>

    <!-- Accessibility Menu (Hidden by default) -->
    <div id="accessibility-panel" class="accessibility-panel" hidden>
        <h3>Accessibility Options</h3>
        <label class="toggle-control">
            <span>Large Text</span>
            <input type="checkbox" id="large-text-toggle">
            <span class="toggle-switch"></span>
        </label>
        <label class="toggle-control">
            <span>High Contrast</span>
            <input type="checkbox" id="high-contrast-toggle">
            <span class="toggle-switch"></span>
        </label>
    </div>

    <main id="main-content" class="container">
        <section class="generator-section card">
            <h2>Create Your Pet's Identity</h2>
            <form id="generator-form">
                <div class="form-grid">
                    <!-- Pet Type -->
                    <div class="form-group">
                        <label for="pet-type">Pet Type</label>
                        <div class="input-wrapper-3d">
                            <select id="pet-type" name="pet-type" required>
                                <option value="Dog">Dog üêï</option>
                                <option value="Cat">Cat üêà</option>
                                <option value="Bird">Bird ü¶ú</option>
                                <option value="Rabbit">Rabbit üêá</option>
                            </select>
                        </div>
                    </div>

                    <!-- Gender -->
                    <div class="form-group">
                        <label for="pet-gender">Gender</label>
                        <div class="radio-group">
                            <label class="radio-card">
                                <input type="radio" name="gender" value="Male" checked>
                                <span>Male ‚ôÇÔ∏è</span>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="gender" value="Female">
                                <span>Female ‚ôÄÔ∏è</span>
                            </label>
                        </div>
                    </div>

                    <!-- Emotional Bond -->
                    <div class="form-group">
                        <label for="pet-emotion">Emotional Bond</label>
                        <div class="input-wrapper-3d">
                            <select id="pet-emotion" name="emotion">
                                <option value="Loving">Loving ‚ù§Ô∏è</option>
                                <option value="Playful">Playful üéæ</option>
                                <option value="Protective">Protective üõ°Ô∏è</option>
                                <option value="Proud">Proud üèÜ</option>
                                <option value="Funny">Funny ü§™</option>
                            </select>
                        </div>
                    </div>

                    <!-- Name Style -->
                    <div class="form-group">
                        <label for="name-style">Style</label>
                        <div class="input-wrapper-3d">
                            <select id="name-style" name="style">
                                <option value="Any">Any Style</option>
                                <option value="Cute">Cute</option>
                                <option value="Strong">Strong</option>
                                <option value="Royal">Royal</option>
                                <option value="Modern">Modern</option>
                            </select>
                        </div>
                    </div>

                    <!-- Origin -->
                    <div class="form-group">
                        <label for="name-origin">Origin / Culture</label>
                        <div class="input-wrapper-3d">
                            <select id="name-origin" name="origin">
                                <option value="Global">Global üåç</option>
                                <option value="Indian">Indian üáÆüá≥</option>
                                <option value="Western">Western ü§†</option>
                                <option value="Cute">Cute Nicknames üç¨</option>
                            </select>
                        </div>
                    </div>

                    <!-- Meaning Language -->
                    <div class="form-group">
                        <label for="meaning-lang">Meaning Language</label>
                        <div class="input-wrapper-3d">
                            <select id="meaning-lang" name="meaning-lang">
                                <option value="en">English</option>
                                <option value="te">Telugu</option>
                                <option value="hi">Hindi</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Advanced / Optional -->
                <details class="advanced-options">
                    <summary>Optional Details (Image, Age)</summary>
                    <div class="form-grid mt-1">
                        <div class="form-group">
                            <label for="pet-age">Age (Years)</label>
                            <div class="input-wrapper-3d">
                                <input type="number" id="pet-age" min="0" max="30" placeholder="e.g. 2">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pet-image">Photo</label>
                            <input type="file" id="pet-image" accept="image/*" capture="environment">

                            <!-- Camera Permission UI -->
                            <div class="camera-control-section" style="margin-top: 0.5rem;">
                                <button type="button" id="start-camera-btn" class="btn btn-secondary"
                                    style="width:100%; font-size: 0.9rem;">
                                    üì∑ Camera
                                </button>
                                <p class="help-text"
                                    style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem;">
                                    Optional: Use camera to capture a pet image.<br>
                                    <span class="security-note" style="color: #eab308; font-weight: 500;"></span>
                                </p>
                            </div>

                            <!-- Camera Preview & Capture -->
                            <div id="camera-container" class="camera-container" hidden>
                                <video id="camera-preview" autoplay playsinline muted></video>
                                <canvas id="camera-canvas" hidden></canvas> <!-- Hidden canvas for capture -->
                                <div class="camera-actions">
                                    <button type="button" id="capture-btn" class="btn btn-primary">Take Photo</button>
                                    <button type="button" id="stop-camera-btn" class="btn btn-secondary">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </details>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary cta-btn">
                        <span class="icon">‚ú®</span> Generate Names
                    </button>
                    <button type="button" id="surprise-btn" class="btn btn-secondary">
                        <span class="icon">üé≤</span> Surprise Me
                    </button>
                </div>
            </form>
        </section>

        <!-- Results Section -->
        <section id="results-section" class="results-section" hidden>
            <div class="section-header">
                <h2>Generated Names</h2>
                <div class="results-actions">
                    <button id="clear-results" class="text-btn">Clear</button>
                </div>
            </div>

            <div id="results-grid" class="results-grid">
                <!-- Cards injected by JS -->
            </div>
        </section>

        <!-- Favorites & History -->
        <section class="user-lists-section">
            <div class="tabs">
                <button class="tab-btn active" data-tab="favorites">Favorites ‚ù§Ô∏è</button>
                <button class="tab-btn" data-tab="history">History üìú</button>
            </div>
            <div id="favorites-panel" class="tab-panel active">
                <div id="favorites-list" class="list-container empty-state-text">No favorites yet.</div>
            </div>
            <div id="history-panel" class="tab-panel" hidden>
                <div id="history-list" class="list-container empty-state-text">No history yet.</div>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <p>&copy; 2026 PetName Genie. Handcrafted for your pets.</p>
    </footer>

    <!-- Scripts -->
    <script type="module" src="assets/js/utils.js"></script>
    <script type="module" src="assets/js/accessibility.js"></script>
    <script type="module" src="assets/js/imageHandler.js"></script>
    <script type="module" src="assets/js/nameGenerator.js"></script>
    <script type="module" src="assets/js/favorites.js"></script>
    <script type="module" src="assets/js/history.js"></script>
    <script type="module" src="assets/js/app.js"></script>
</body>

</html>